{"version":3,"sources":["webpack://iPodJS/webpack/universalModuleDefinition","webpack://iPodJS/webpack/bootstrap","webpack://iPodJS/./src/img/pixel.gif","webpack://iPodJS/./src/js/BaseElement.js","webpack://iPodJS/./src/js/ListItem.js","webpack://iPodJS/./src/js/Track.js","webpack://iPodJS/./src/js/Playlist.js","webpack://iPodJS/./src/js/Utils.js","webpack://iPodJS/./src/js/Playview.js","webpack://iPodJS/./src/js/iPod.js","webpack://iPodJS/./src/js/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","BaseElement","settings","id","Date","getTime","Math","round","random","this","_elementTag","_html","_dom","setId","tag","cssClass","elem","document","createElement","Array","isArray","split","setAttribute","forEach","classList","add","text","createTextNode","_id","element","HTMLElement","Error","child","parent","_resolveElement","appendChild","childNodes","length","removeChild","_clear","_addToDOM","keyOrChild","remove","_getRootClasses","_addEventListeners","_createHTML","ListItem","onClick","_onClick","setOnClick","callback","e","preventDefault","link","_getFromDOM","addEventListener","_onClickHandler","textContainer","title","subtitle","Track","artist","album","artwork","audio","index","rating","parentPlaylist","_artist","_title","_album","_artwork","_audio","_rating","_parentPlaylist","setIndex","setParentPlaylist","playlist","Playlist","_index","showPlayingIcon","hidePlayingIcon","createText","tracks","onSelectTrack","_name","_tracks","Set","setTracks","setOnSelectTrack","_onSelectTrack","clear","track","_onSelectTrackHandler","size","clearTracks","addTrack","getTracks","finalValue","finalValueNum","parseInt","unit","replace","initialValue","style","diff","absDiff","abs","step","traveled","intervalRef","setInterval","clearInterval","seconds","hoursPart","floor","minutesPart","secondsPart","Playview","onEnded","onError","Audio","_onEnded","_onError","setTrack","data","_track","getAudio","src","play","_onPlaybackError","DOMException","pause","info","getInfo","getParentPlaylist","ratingText","_setToDOM","backgroundImage","_setPlaybackTime","_showTrackNotification","currentSrc","duration","currentTime","elapsedSeconds","remainingSeconds","Utils","width","error","code","ABORT_ERR","target","_onEndedHandler","_onLoadedData","pixelImg","iPod","playlists","skipOnError","timeBeforeSkip","_playlists","_playbackState","_currentPlaylist","_currentScreen","_width","height","_height","_playview","_onPlayEnd","_timeoutRef","_skipOnError","_timeBeforeSkip","setPlaylists","_setPlaybackState","PLAYBACK_STATES","STOPPED","HOME","left","PLAYLIST","instance","getName","NOW_PLAYING","PLAYING","PAUSED","setTimeout","clearTimeout","state","screen","container","next","borderWidth","fontSize","_applySize","widht","parentScreen","_gotoScreen","SCREENS","getHTML","_setTracklist","_setTrack","_play","getTrack","_pause","movement","currentTrack","newTrack","_moveOnPlaylist","_onSelectPlaylist","clearPlaylists","addPlaylist","that","_getControlsHTMLDef","def","ref","handler","back","prev","playPause","topBar","playlistPanel","tracklistPanel","playingPanel","img","href","setWidth","setHeight","args"],"mappings":"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","file":"ipod.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"iPodJS\"] = factory();\n\telse\n\t\troot[\"iPodJS\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\"","function getUid () {\n  const d = new Date();\n\n  return d.getTime() + '' + Math.round((Math.random() * 1000000));\n}\nexport default class BaseElement {\n  static create (tag, cssClass = null, id = null) {\n    const elem = document.createElement(tag);\n\n    cssClass = Array.isArray(cssClass) ? cssClass : (cssClass && cssClass.split(' ')) || [];\n\n    if (id) {\n      elem.setAttribute('id', id);\n    }\n\n    // We could call classList.add() just once sending all classes en the arguments list\n    // but IE11 doesn't support more than a single argument, that's why we call it one time per class\n    cssClass.forEach((cssClass) => elem.classList.add(cssClass));\n\n    return elem;\n  }\n\n  static createText (text) {\n    return document.createTextNode(text);\n  }\n\n  constructor (settings) {\n    settings = {\n      id: getUid(),\n      ...settings,\n    };\n\n    this._elementTag = 'div';\n    this._html = null;\n    this._dom = {};\n\n    this.setId(settings.id);\n  }\n\n  setId (id) {\n    this._id = id;\n\n    if (this._html) {\n      this._html.setAttribute('id', id);\n    }\n  }\n\n  _resolveElement (element) {\n    if (!element) {\n      element = this._html;\n    } else if (typeof element === 'string') {\n      element = this._dom[element];\n    } else if (!(element instanceof window.HTMLElement)) {\n      throw new Error('_addToDOM(): The second parameter must be a string, object or null.');\n    }\n\n    element = element || this._html;\n\n    return element;\n  }\n\n  _addToDOM (child, parent = null, key = null) {\n    parent = this._resolveElement(parent);\n    parent.appendChild(child);\n\n    if (typeof key === 'string') {\n      this._dom[key] = child;\n    }\n  }\n\n  _clear (element) {\n    element = this._resolveElement(element);\n\n    while (element.childNodes.length) {\n      element.removeChild(element.childNodes[0]);\n    }\n  }\n\n  _setToDOM (child, parent = null, key = null) {\n    this._clear(parent);\n\n    this._addToDOM(child, parent, key);\n  }\n\n  _removeFromDOM (keyOrChild) {\n    if (typeof keyOrChild === 'string') {\n      this._dom[keyOrChild].remove();\n      delete this._dom[keyOrChild];\n    } else if (keyOrChild instanceof window.HTMLElement) {\n      keyOrChild.remove();\n    } else {\n      throw new Error('_removeFromDOM(): The parameter must be a string or a HTMLElement');\n    }\n  }\n\n  _getFromDOM (key) {\n    return this._dom[key] || null;\n  }\n\n  _getRootClasses () {\n    return [];\n  }\n\n  _addEventListeners () {}\n\n  _createHTML () {\n    if (!this._html) {\n      this._html = BaseElement.create(this._elementTag);\n\n      this.setId(this._id);\n\n      this._getRootClasses().forEach((cssClass) => {\n        this._html.classList.add(cssClass);\n      });\n\n      this._addEventListeners();\n    }\n\n    return this;\n  }\n\n  getHTML () {\n    if (!this._html) {\n      this._createHTML();\n    }\n\n    return this._html;\n  }\n}\n","import BaseElement from './BaseElement';\n\nexport default class ListItem extends BaseElement {\n  constructor (settings) {\n    super(settings);\n\n    settings = {\n      onClick: null,\n      ...settings,\n    };\n\n    this._elementTag = 'li';\n    this._onClick = null;\n\n    this.setOnClick(settings.onClick);\n  }\n\n  setOnClick (callback) {\n    if (callback === null || typeof callback === 'function') {\n      this._onClick = callback;\n    } else {\n      throw new Error('setOnClick(): The parameter must be a function or null.');\n    }\n  }\n\n  showPlayingIcon () {\n    this._html.classList.add('playing');\n  }\n\n  hidePlayingIcon () {\n    this._html.classList.remove('playing');\n  }\n\n  _onClickHandler (e) {\n    e.preventDefault();\n\n    if (this._onClick) {\n      this._onClick(this);\n    }\n  }\n\n  _addEventListeners () {\n    const link = this._getFromDOM('link');\n\n    if (link) {\n      link.addEventListener('click', this._onClickHandler.bind(this));\n    }\n  }\n\n  _getRootClasses () {\n    return ['playlist'];\n  }\n\n  _createHTML () {\n    if (!this._html) {\n      const link = BaseElement.create('a');\n      const textContainer = BaseElement.create('div');\n      const title = BaseElement.create('div');\n      const subtitle = BaseElement.create('div');\n\n      super._createHTML();\n\n      link.setAttribute('href', '#');\n      link.classList.add('link');\n      title.classList.add('title');\n      subtitle.classList.add('subtitle');\n\n      this._addToDOM(link, null, 'link');\n      this._addToDOM(textContainer, 'link', 'textContainer');\n      this._addToDOM(title, 'textContainer', 'title');\n      this._addToDOM(subtitle, 'textContainer', 'subtitle');\n\n      this._addEventListeners();\n    }\n  }\n}\n","import BaseElement from './BaseElement';\nimport ListItem from './ListItem';\nimport Playlist from './Playlist';\n\nexport default class Track extends ListItem {\n  constructor (settings) {\n    super(settings);\n\n    settings = {\n      artist: '[unknown artist]',\n      title: '[untitled]',\n      album: '[unknown album]',\n      artwork: null,\n      audio: '',\n      index: null,\n      rating: 0,\n      parentPlaylist: null,\n      ...settings,\n    };\n\n    this._artist = settings.artist;\n    this._title = settings.title;\n    this._album = settings.album;\n    this._artwork = settings.artwork;\n    this._audio = settings.audio || '';\n    this._rating = settings.rating;\n    this._parentPlaylist = settings.parentPlaylist;\n\n    this.setIndex(settings.index);\n    this.setParentPlaylist(settings.parentPlaylist);\n  }\n\n  setParentPlaylist (playlist) {\n    if (!(playlist instanceof Playlist || playlist === null)) {\n      throw new Error('setParentPlaylist(): The parameter must be an instance of Playlist or null.');\n    }\n\n    this._parentPlaylist = playlist;\n  }\n\n  getParentPlaylist () {\n    return this._parentPlaylist;\n  }\n\n  setIndex (index) {\n    this._index = index;\n  }\n\n  getAudio () {\n    return this._audio;\n  }\n\n  getInfo () {\n    return {\n      artist: this._artist,\n      title: this._title,\n      album: this._album,\n      artwork: this._artwork,\n      audio: this._audio,\n      index: this._index,\n      rating: this._rating\n    };\n  }\n\n  showPlayingIcon () {\n    super.showPlayingIcon();\n    this._parentPlaylist.showPlayingIcon();\n  }\n\n  hidePlayingIcon () {\n    super.hidePlayingIcon();\n    this._parentPlaylist.hidePlayingIcon();\n  }\n\n  _createHTML () {\n    if (!this._html) {\n      super._createHTML();\n      this._addToDOM(BaseElement.createText(this._artist), 'title');\n      this._addToDOM(BaseElement.createText(this._title), 'subtitle');\n    }\n  }\n}\n","import BaseElement from './BaseElement';\nimport ListItem from './ListItem';\nimport Track from './Track';\n\nexport default class Playlist extends ListItem {\n  constructor (settings) {\n    super(settings);\n\n    settings = {\n      name: '[untitled playlist]',\n      tracks: [],\n      onSelectTrack: null,\n      ...settings,\n    };\n\n    this._name = settings.name;\n    this._tracks = new Set();\n\n    this.setTracks(settings.tracks);\n    this.setOnSelectTrack(settings.onSelectTrack);\n  }\n\n  setOnSelectTrack (callback) {\n    if (callback === null || typeof callback === 'function') {\n      this._onSelectTrack = callback;\n    }\n  }\n\n  clearTracks () {\n    this._tracks.clear();\n  }\n\n  _onSelectTrackHandler (track) {\n    return this._onSelectTrack && this._onSelectTrack(track);\n  }\n\n  addTrack (track) {\n    if (typeof track !== 'object') {\n      throw new Error('addTrack(): The parameter must be an object or an instance of Track');\n    } else if (!(track instanceof Track)) {\n      track = new Track(track);\n    }\n\n    track.setParentPlaylist(this);\n    track.setOnClick(this._onSelectTrackHandler.bind(this));\n    track.setIndex(this._tracks.size);\n\n    this._tracks.add(track);\n  }\n\n  setTracks (tracks) {\n    if (!Array.isArray(tracks)) {\n      throw new Error('setTracks(): The parameter must be an array.');\n    }\n\n    this.clearTracks();\n\n    tracks.forEach(this.addTrack.bind(this));\n  }\n\n  getName () {\n    return this._name;\n  }\n\n  getTracks () {\n    return [...this._tracks];\n  }\n\n  getTrack (index) {\n    return this.getTracks()[index];\n  }\n\n  _createHTML () {\n    if (!this._html) {\n      super._createHTML();\n\n      this._getFromDOM('link').classList.add('item');\n\n      this._addToDOM(BaseElement.createText(this._name), 'title');\n      this._addToDOM(BaseElement.createText(`${this._tracks.size} Songs`), 'subtitle');\n\n      this._addEventListeners();\n    }\n  }\n}\n","export default {\n  animate: (element, property, finalValue, callback) => {\n    const finalValueNum = parseInt(finalValue, 10);\n    const unit = finalValue.replace(finalValueNum, '');\n    const callsPerSecond = 30;\n    const initialValue = parseInt(element.style[property], 10) || 0;\n    const diff = finalValueNum - initialValue;\n    const absDiff = Math.abs(diff);\n    const step = diff / callsPerSecond;\n    let traveled = 0;\n\n    const intervalRef = window.setInterval(() => {\n      traveled += step;\n\n      if (Math.abs(traveled) >= absDiff) {\n        window.clearInterval(intervalRef);\n        element.style[property] = `${finalValueNum}${unit}`;\n        return callback && callback();\n      } else {\n        element.style[property] = `${initialValue + traveled}${unit}`;\n      }\n    }, 500 / callsPerSecond);\n  },\n  secondsToTime: (seconds) => {\n    seconds = Math.round(seconds);\n\n    let hoursPart = Math.floor(seconds / 3600);\n    let minutesPart = Math.floor((seconds - (hoursPart * 3600)) / 60);\n    let secondsPart = seconds % 3600;\n\n    secondsPart = seconds < 10 ? `0${secondsPart}` : seconds;\n    minutesPart = (hoursPart > 0 && minutesPart < 10 ? `0${minutesPart}` : minutesPart) + ':';\n\n    return (hoursPart ? hoursPart + ':' : '') + `${minutesPart}${secondsPart}`;\n  }\n};\n","import BaseElement from './BaseElement';\nimport Utils from './Utils';\nimport pixelImg from '../img/pixel.gif';\n\nexport default class Playview extends BaseElement {\n  constructor (settings) {\n    super(settings);\n\n    settings = {\n      onEnded: null,\n      onError: null,\n      track: null,\n      ...settings,\n    };\n\n    this._audio = new window.Audio();\n    this._onEnded = settings.onEnded;\n    this._onError = settings.onError;\n\n    this.setTrack(settings.track);\n  }\n\n  _showTrackNotification (text) {\n    this._getFromDOM('trackNotification').data = text;\n  }\n\n  play () {\n    const audio = this._track.getAudio();\n\n    if (this._audio.src !== audio) {\n      this._audio.src = audio;\n    }\n\n    if (this._audio.src) {\n      this._audio.play().catch(this._onPlaybackError.bind(this));\n    } else {\n      this._onPlaybackError(new window.DOMException('', 'NotSupportedError'));\n    }\n  }\n\n  pause () {\n    this._audio.pause();\n  }\n\n  _getRootClasses () {\n    return ['playview'];\n  }\n\n  setTrack (track) {\n    let info;\n\n    if (this._track) {\n      this._track.hidePlayingIcon();\n    }\n\n    this._track = track;\n\n    if (track) {\n      track.showPlayingIcon();\n    }\n\n    if (track) {\n      info = track.getInfo();\n      info.index = `${info.index + 1} of ${track.getParentPlaylist().getTracks().length}`;\n    } else {\n      info = {};\n    }\n\n    if (this._html) {\n      let ratingText = '';\n\n      for (let i = 0; i < info.rating; i++) {\n        ratingText += '★';\n      }\n\n      this._setToDOM(BaseElement.createText(info.artist), 'artist');\n      this._setToDOM(BaseElement.createText(info.title), 'title');\n      this._getFromDOM('artwork').style.backgroundImage = `url(${info.artwork || ''})`;\n      this._setToDOM(BaseElement.createText(info.album), 'album');\n      this._setToDOM(BaseElement.createText(ratingText), 'rating');\n      this._setToDOM(BaseElement.createText(info.index), 'index');\n\n      this._setPlaybackTime(0, 0);\n      this._showTrackNotification(!info.audio ? '[not available]' : '');\n\n      if (this._audio.currentSrc) {\n        this.pause();\n      }\n    }\n\n    return this;\n  }\n\n  getTrack () {\n    return this._track;\n  }\n\n  _setPlaybackTime (duration, currentTime) {\n    const elapsedSeconds = Math.round(currentTime);\n    const remainingSeconds = Math.round(duration - elapsedSeconds);\n\n    this._setToDOM(BaseElement.createText(`${Utils.secondsToTime(elapsedSeconds)}`), 'elapsedTime');\n    this._getFromDOM('progressBar').style.width = `${currentTime / duration * 100 || 0}%`;\n    this._setToDOM(BaseElement.createText(`-${Utils.secondsToTime(remainingSeconds || 0)}`), 'remainingTime');\n  }\n\n  _onEndedHandler () {\n    return this._onEnded && this._onEnded(this._track);\n  }\n\n  _onPlaybackError (error) {\n    if (error.code !== window.DOMException.ABORT_ERR) {\n      this._showTrackNotification('[not available]');\n\n      return this._onError && this._onError(error, this._track);\n    }\n  }\n\n  _onLoadedData (e) {\n    this._showTrackNotification('');\n    this._setPlaybackTime(e.target.duration, 0);\n  }\n\n  _addEventListeners () {\n    this._audio.addEventListener('timeupdate', (e) => {\n      if (this._track) {\n        this._setPlaybackTime(e.target.duration, e.target.currentTime);\n      }\n    });\n\n    this._audio.addEventListener('ended', this._onEndedHandler.bind(this));\n    this._audio.addEventListener('loadstart', () => this._showTrackNotification('loading...'));\n    this._audio.addEventListener('loadeddata', (e) => this._onLoadedData(e));\n  }\n\n  _createHTML () {\n    if (!this._html) {\n      super._createHTML();\n\n      this._addToDOM(BaseElement.create('div', 'container'), null, 'trackInfoContainer');\n      this._addToDOM(BaseElement.create('img', 'artwork'), 'trackInfoContainer', 'artwork');\n      this._addToDOM(BaseElement.create('div', 'track-titles'), 'trackInfoContainer', 'trackTitles');\n      this._addToDOM(BaseElement.create('ul', 'track-titles-list'), 'trackTitles', 'trackTitlesList');\n      this._addToDOM(BaseElement.create('li', ['track-titles-list-item', 'big']), 'trackTitlesList', 'title');\n      this._addToDOM(BaseElement.create('li', ['track-titles-list-item', 'small']), 'trackTitlesList', 'artist');\n      this._addToDOM(BaseElement.create('li', ['track-titles-list-item', 'small']), 'trackTitlesList', 'album');\n      this._addToDOM(BaseElement.create('li', 'track-titles-list-item'), 'trackTitlesList', 'rating');\n      this._addToDOM(BaseElement.create('li', ['track-titles-list-item', 'index']), 'trackTitlesList', 'index');\n\n      this._getFromDOM('artwork').setAttribute('src', pixelImg);\n\n      this._addToDOM(BaseElement.create('div', 'timebox'), null, 'timebox');\n      this._addToDOM(BaseElement.create('span'), 'timebox', 'elapsedTime');\n      this._addToDOM(BaseElement.create('div', 'progress-container'), 'timebox', 'progressBarContainer');\n      this._addToDOM(BaseElement.createText(''), 'progressBarContainer', 'trackNotification');\n      this._addToDOM(BaseElement.create('div', 'progress-bar'), 'progressBarContainer', 'progressBar');\n      this._addToDOM(BaseElement.create('span'), 'timebox', 'remainingTime');\n\n      this.setTrack(this._track);\n    }\n  }\n}\n","import BaseElement from './BaseElement';\nimport Playlist from './Playlist';\nimport Utils from './Utils';\nimport Playview from './Playview';\nimport pixelImg from '../img/pixel.gif';\n\nconst RATIO = 0.65441;\nconst SCREEN_BORDER_RATIO = 0.01348;\nconst SCREEN_FONTSIZE_RATIO = 0.060674;\n\nexport default class iPod extends BaseElement {\n  static get SCREENS () {\n    return {\n      HOME: {\n        left: '0%',\n        text: 'Playlists'\n      },\n      PLAYLIST: {\n        left: '-100%',\n        text: (instance) => instance._currentPlaylist.getName(),\n        parent: 'HOME'\n      },\n      NOW_PLAYING: {\n        left: '-200%',\n        text: 'Now Playing',\n        parent: 'PLAYLIST'\n      }\n    };\n  }\n\n  static get PLAYBACK_STATES () {\n    return {\n      STOPPED: 0,\n      PLAYING: 1,\n      PAUSED: 2\n    };\n  }\n\n  constructor (settings) {\n    super(settings);\n\n    settings = {\n      playlists: [],\n      skipOnError: true,\n      timeBeforeSkip: 5000,\n      width: 445,\n      ...settings,\n    };\n\n    this._playlists = new Set();\n    this._playbackState = null;\n    this._currentPlaylist = null;\n    this._currentScreen = null;\n    this._width = settings.height ? null : settings.width;\n    this._height = settings.height;\n    this._playview = new Playview({\n      onEnded: this._onPlayEnd.bind(this),\n      onError: this._onPlaybackError.bind(this)\n    });\n\n    this._timeoutRef = null;\n    this._skipOnError = settings.skipOnError;\n    this._timeBeforeSkip = settings.timeBeforeSkip;\n    this.setPlaylists(settings.playlists);\n    this._setPlaybackState(iPod.PLAYBACK_STATES.STOPPED);\n  }\n\n  _onPlaybackError (error, track) {\n    if (this._skipOnError && error) {\n      this._timeoutRef = setTimeout(() => {\n        window.clearTimeout(this._timeoutRef);\n        this._onPlayEnd(track);\n      }, this._timeBeforeSkip);\n    }\n  }\n\n  _setPlaybackState (state) {\n    this._playbackState = state;\n\n    if (this._html) {\n      this._html.classList.remove('playing');\n      this._html.classList.remove('paused');\n\n      switch (state) {\n        case iPod.PLAYBACK_STATES.PLAYING:\n          this._html.classList.add('playing');\n          break;\n        case iPod.PLAYBACK_STATES.PAUSED:\n          this._html.classList.add('paused');\n          break;\n      }\n    }\n  }\n\n  _gotoScreen (screen) {\n    const container = this._getFromDOM('container');\n\n    Utils.animate(container, 'left', `${screen.left}`, () => {\n      this._currentScreen = screen;\n      this._getFromDOM('topBarText').data = (typeof screen.text === 'function' ? screen.text(this) : screen.text);\n    });\n  }\n\n  _onPlayEnd (track) {\n    this.next();\n  }\n\n  _applySize (width, height) {\n    if (this._html) {\n      const screen = this._getFromDOM('screen');\n\n      this._html.style.width = `${width}px`;\n      this._html.style.height = `${height}px`;\n      screen.style.borderWidth = `${width * SCREEN_BORDER_RATIO}px`;\n      screen.style.fontSize = `${width * SCREEN_FONTSIZE_RATIO}px`;\n    }\n\n    return this;\n  }\n\n  isPlaying () {\n    return this._playbackState === iPod.PLAYBACK_STATES.PLAYING;\n  }\n\n  setWidth (width) {\n    const height = width / RATIO;\n\n    this._width = width;\n    this._height = null;\n\n    return this._applySize(width, height);\n  }\n\n  setHeight (height) {\n    const width = height * RATIO;\n\n    this._width = null;\n    this._height = height;\n\n    return this._applySize(width, height);\n  }\n\n  getSize() {\n    const width = this._width;\n    const height = this._height;\n\n    if (width) {\n      return { width, height: width / RATIO };\n    } else {\n      return { widht: height * RATIO, height };\n    }\n  }\n\n  back () {\n    const parentScreen = this._currentScreen.parent;\n\n    if (parentScreen) {\n      this._gotoScreen(iPod.SCREENS[parentScreen]);\n    }\n  }\n\n  clearPlaylists () {\n    this._playlists.clear();\n  }\n\n  _setTracklist (playlist) {\n    const tracks = playlist.getTracks();\n\n    this._currentPlaylist = playlist;\n    this._clear('tracklistPanel');\n\n    tracks.forEach((track) => {\n      this._addToDOM(track.getHTML(), 'tracklistPanel');\n    });\n  }\n\n  _onSelectPlaylist (playlist) {\n    this._setTracklist(playlist);\n\n    this._gotoScreen(iPod.SCREENS.PLAYLIST);\n  }\n\n  _onSelectTrackHandler (track) {\n    this._setTrack(track, true);\n    this._gotoScreen(iPod.SCREENS.NOW_PLAYING);\n  }\n\n  _setTrack (track, play) {\n    window.clearTimeout(this._timeoutRef);\n    this._playview.setTrack(track);\n\n    if (play) {\n      this._play();\n    }\n  }\n\n  _play () {\n    this._setPlaybackState(iPod.PLAYBACK_STATES.PLAYING);\n    this._playview.play();\n  }\n\n  _pause () {\n    window.clearTimeout(this._timeoutRef);\n    this._setPlaybackState(iPod.PLAYBACK_STATES.PAUSED);\n    this._playview.pause();\n  }\n\n  playPause () {\n    if (this._playview.getTrack()) {\n      if (this._playbackState === iPod.PLAYBACK_STATES.PAUSED) {\n        this._play();\n      } else {\n        this._pause();\n      }\n    }\n  }\n\n  _moveOnPlaylist (movement) {\n    const currentTrack = this._playview.getTrack();\n\n    if (currentTrack) {\n      const newTrack = currentTrack.getParentPlaylist().getTrack(currentTrack.getInfo().index + movement);\n\n      if (!newTrack) {\n        this._setPlaybackState(iPod.PLAYBACK_STATES.STOPPED);\n        // TODO: Only move to playlist screen when the current screen is Now Playing\n        this._gotoScreen(iPod.SCREENS.PLAYLIST);\n      }\n\n      this._setTrack(newTrack, this._playbackState === iPod.PLAYBACK_STATES.PLAYING);\n    }\n  }\n\n  prev () {\n    this._moveOnPlaylist(-1);\n  }\n\n  next () {\n    this._moveOnPlaylist(1);\n  }\n\n  addPlaylist (playlist) {\n    if (typeof playlist !== 'object') {\n      throw new Error('addPlaylist(): The parameter must be an object or an instance of Playlist.');\n    } else if (!(playlist instanceof Playlist)) {\n      playlist = new Playlist(playlist);\n    }\n\n    playlist.setOnClick(this._onSelectPlaylist.bind(this));\n    playlist.setOnSelectTrack(this._onSelectTrackHandler.bind(this));\n\n    this._playlists.add(playlist);\n\n    if (this._html) {\n      this._addToDOM(playlist.getHTML(), 'playlistPanel');\n    }\n  }\n\n  setPlaylists (playlists) {\n    if (!Array.isArray(playlists)) {\n      throw new Error('setPlaylist(): The parameter must be an array.');\n    }\n\n    this.clearPlaylists();\n\n    playlists.forEach(this.addPlaylist.bind(this));\n  }\n\n  _getRootClasses () {\n    return ['ipodjs'];\n  }\n\n  _addEventListeners () {\n    if (this._getFromDOM('screen')) {\n      const that = this;\n\n      this._getControlsHTMLDef().forEach((def) => {\n        that._getFromDOM(def.ref).addEventListener('click', (e) => {\n          e.preventDefault();\n          def.handler();\n        });\n      });\n    }\n  }\n\n  _getControlsHTMLDef () {\n    return [\n      {\n        ref: 'menu-link',\n        handler: this.back.bind(this)\n      },\n      {\n        ref: 'forward-link',\n        handler: this.next.bind(this)\n      },\n      {\n        ref: 'backward-link',\n        handler: this.prev.bind(this)\n      },\n      {\n        ref: 'play-link',\n        handler: this.playPause.bind(this)\n      },\n      {\n        ref: 'select-link',\n        handler: () => {}\n      }\n    ];\n  }\n\n  _createHTML () {\n    if (!this._html) {\n      const screen = BaseElement.create('div', 'screen');\n      const topBar = BaseElement.create('div', 'top-bar');\n      const container = BaseElement.create('div', 'screen-container');\n      const playlistPanel = BaseElement.create('ul', ['panel', 'list']);\n      const tracklistPanel = BaseElement.create('ul', ['panel', 'list']);\n      const playingPanel = BaseElement.create('div', 'panel');\n\n      super._createHTML();\n\n      this._getControlsHTMLDef().forEach((def) => {\n        const img = BaseElement.create('img');\n        const link = BaseElement.create('a', def.ref);\n\n        // TODO: use images as module\n        img.src = pixelImg;\n        link.href = '#';\n\n        this._addToDOM(link, null, def.ref);\n        this._addToDOM(img, def.ref);\n      });\n\n      this._addToDOM(screen, null, 'screen');\n      this._addToDOM(topBar, 'screen', 'topBar');\n      this._addToDOM(container, 'screen', 'container');\n      this._addToDOM(playlistPanel, 'container', 'playlistPanel');\n      this._addToDOM(tracklistPanel, 'container', 'tracklistPanel');\n      this._addToDOM(playingPanel, 'container', 'playingPanel');\n      this._addToDOM(BaseElement.createText(''), 'topBar', 'topBarText');\n      this._addToDOM(this._playview.getHTML(), 'playingPanel');\n\n      this.setPlaylists([...this._playlists]);\n      this._gotoScreen(iPod.SCREENS.HOME);\n      \n      if (this._width) {\n        this.setWidth(this._width);\n      } else {\n        this.setHeight(this._height);\n      }\n\n      this._addEventListeners();\n    }\n\n    return this;\n  }\n}\n","import iPod from './iPod';\nimport '../sass/index.scss';\n\nexport function create(...args) {\n  return new iPod(...args);\n}\n\nexport default { create };\n"],"sourceRoot":""}